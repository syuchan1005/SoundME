<script src="/js/setting.js"></script>
<div id="settings" class="scrollable">
    <span class="setting">Users</span>
    <div>
        <div id="user-form">
            <div>Add User</div>
            <input type="text" id="form-name" placeholder="Username">
            <input type="password" id="form-pass" placeholder="Password">
            <input type="text" id="form-role" placeholder="Role">
            <div>
                <button id="form-add">追加</button>
                <button id="form-cancel">キャンセル</button>
            </div>
        </div>
        <table class="user-table">
            <tr>
                <th>Username</th>
                <th>Role</th>
                <th class="add-user">+</th>
            </tr>
            {{#each users}}
                <tr data-userid="{{id}}">
                    <td class="user-name">{{name}}</td>
                    <td class="user-role">{{role}}</td>
                    <td class="delete-user">X</td>
                </tr>
            {{/each}}
        </table>
    </div>

    <div id="send-data">
        <span class="setting">Path</span>
        <div>
            <label for="music-path">MusicPath</label><input type="text" id="music-path" value="{{ music_path }}">
        </div>

        <span class="setting">Theme</span>
        <div>
            <form id="theme-form">
                <input type="file" name="file" id="theme-file">
                <input type="button" id="theme-upload" value="Upload"/>
            </form>
            <span>現在のテーマ:</span>
            <select name="default-theme" size="1">
                {{#each themes}}
                    <option value="{{name}}">{{name}}</option>
                {{/each}}
            </select>
        </div>

        <span class="setting">Automatic conversion</span>
        <div id="convert-setting">
            <div id="src-setting">
                <span>src format</span>
                <div class="src-input-setting">
                    <label>MPEG-1/2 Audio Layer 3 (MP3)</label>
                    <input type="checkbox" data-format="MP3" {{#if src_mp3}}checked{{/if}}>
                </div>
                <div class="src-input-setting">
                    <label>Ogg Vorbis (OGG)</label>
                    <input type="checkbox" data-format="OGG" {{#if src_ogg}}checked{{/if}}>
                </div>
                <div class="src-input-setting">
                    <label>Advanced Audio Coding (AAC)</label>
                    <input type="checkbox" data-format="AAC" {{#if src_aac}}checked{{/if}}>
                </div>
                <div class="src-input-setting">
                    <label>Free Lossless Audio Codec (FLAC)</label>
                    <input type="checkbox" data-format="FLAC" {{#if src_flac}}checked{{/if}}>
                </div>
                <div class="src-input-setting">
                    <label>Windows Media Audio (WMA)</label>
                    <input type="checkbox" data-format="WMA" {{#if src_wma}}checked{{/if}}>
                </div>
                <div class="src-input-setting">
                    <label>Other Formats</label>
                    <input type="checkbox" data-format="OTHER" checked disabled>
                </div>
            </div>
            <div id="dest-setting">
                <span>dest format</span>
                <div class="dest-input-setting">
                    <input type="radio" name="dest" checked><label>MPEG-1/2 Audio Layer 3 (MP3)</label>
                </div>
            </div>
        </div>
        <span id="warn-format">If you want to use other formats please check the correspondence with ffmpeg</span>
        <button class="setting" id="submit">Submit</button>
    </div>

    <span class="setting">Database management</span>
    <div id="db-management">
        <button id="update" class="setting">Database Update (Load Musics)</button>
        <div id="update-progress">
            <label>Progress</label>
            <progress value="0" max="100" id="progress"></progress>
            <label id="process-file">Process_File - Process</label>
            <progress value="0" max="100" id="file-progress"></progress>
            <div id="warnText">Please do not move until it is over</div>
        </div>
        <div id="risky">
            <button id="clear-cache" class="setting" data-type="clear">Clear cache & thumbnail</button>
            <button id="reset-db" class="setting" data-type="reset">Reset database (without users)</button>
            <button id="reset-all" class="setting" data-type="resetall">Reset all (Music folder will remain)</button>
        </div>
    </div>
</div>